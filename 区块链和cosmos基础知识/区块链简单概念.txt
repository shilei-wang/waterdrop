真正意义上的区块链得包含三个要素：分布式系统（包括记账和存储），无法篡改的数据结构，以及共识算法

智能合约，就可以跟老板签一份放区块链上，如果明年销售业绩提升30%，就加薪10%，由于区块链不能篡改，不能抵赖，所以老板必须得执行



工作量证明（Proof of Work）

区块链共识算法中最常见的是比特币的工作量证明机制，它主要有两个功能：一是保证区块链的下一区块是唯一正确的块，二是防止强大的敌手干扰区块链系统从而导致区块链分叉。

工作量证明中，矿工通过竞争解决密码学难题来完成下一个块的增加和区块链的扩展，如图1所示为比特币工作量证明的简图；参与挖矿的矿工竞争将前一区块的hash与一个随机的比特串一起来计算出一个hash值，若输出的hash值满足前若干比特为0，即为解出了该难题。第一个解出难题的人获得扩展一个块的机会，并且能够获得一定量新挖出的比特币以及一小笔交易费作为其工作量的奖励。



权益证明（Proof of Stake）

权益证明共识是代替工作量证明的共识机制中最完善和受到最多关注的，其共识的达成不需要参与者投入昂贵的计算机设备来参与挖矿竞争。相对于以比特币为代表的工作量证明共识系统中的矿工而言，基于权益证明共识的区块链系统中，参与者的角色是验证者Validator，他们只需要投资系统的代币并在特定时间内验证自己是否为下一区块创造者，即可完成下一区块的创建。如图2所示为权益证明的简要示意图。下一区块创造者是以某种确定的方式来选择，被选中的验证者将合适的交易打包成块并发布到区块链上。验证者被选中为下一区块创造者的概率与其所拥有的系统中代币的数量成正比例，简单来说即拥有300个代币的验证者被选中为下一区块创造者的概率是即拥有100个代币验证者的3倍。

由于权益证明中创造区块不需要算力资源等高成本，区块创造者不会获得区块奖励，但可以获得一定数额的交易打包费用。用权益证明共识产生区块和扩展区块链的方式也比比特币中用工作量证明的共识效率提高上千倍，并且大大节约了资源。

权益证明有效率高、节约资源的优点，但同时也面临着一些潜在的现实风险。基于理性人的自利假设，参与者难免会出现做恶的情况，例如区块创造者同时创造2个块并收取两笔交易费，或者签名者同时签名2个块以获得2笔工作报酬。这些都与系统协议中同一时间段只能产生一个合法的区块且签名者不可对不合法的区块签名的规范相违背。









